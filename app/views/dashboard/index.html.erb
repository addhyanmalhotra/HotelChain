<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<div class="card my-4">
  <div class="card-header">
    <h1><stromg>Monthly Finance:</stromg> <%= Date::MONTHNAMES[Date.today.month] %></h1>
  </div>
  <div class="card-body">
    <div class="row">
      <div id="barchart" class="col-lg-4"></div>
      <div class="col-lg-4"></div>
      <div id="colchart" class="col-lg-4"></div>
    </div>
    <%=link_to 'View All Finances', '/monthly_expenses', class: "btn btn-secondary" %>
  </div>
</div>
<%=@pie_chart_data%>
<script type="text/javascript">
    // Load google charts
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    // Draw the chart and set the chart values
    function drawChart() {

        var data = google.visualization.arrayToDataTable(
            <%=raw @bar_chart_data%>
        );

        // Optional; add a title and set the width and height of the chart
        var options = {'title':'Branch Wise Turnover', 'width':550, 'height':400};

        // Display the chart inside the <div> element with id="piechart"
        var chart = new google.visualization.ColumnChart(document.getElementById('barchart'));
        chart.draw(data, options);
    }
</script>
<script type="text/javascript">
    // Load google charts
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    // Draw the chart and set the chart values
    function drawChart() {

        var data2 = google.visualization.arrayToDataTable(
            <%=raw @col_chart_data%>
        );

        // Optional; add a title and set the width and height of the chart
        var options2 = {'title':'Branch Wise Profits', 'width':550, 'height':400};

        // Display the chart inside the <div> element with id="piechart"
        var chart2 = new google.visualization.BarChart(document.getElementById('colchart'));
        chart2.draw(data2, options2);
    }
</script>
<script type="text/javascript">
    // Load google charts
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    // Draw the chart and set the chart values
    function drawChart() {

        var data3 = google.visualization.arrayToDataTable(
            <%=raw @pie_chart_data%>
        );

        // Optional; add a title and set the width and height of the chart
        var options3 = {'title':'Branch Wise Profits', 'width':550, 'height':400};

        // Display the chart inside the <div> element with id="piechart"
        var chart3 = new google.visualization.BarChart(document.getElementById('piechart'));
        chart2.draw(data3, options3);
    }
</script>